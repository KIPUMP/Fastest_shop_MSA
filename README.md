# ğŸ›’ E-commerce í”„ë¡œì íŠ¸ : fastest-shop
## ğŸ“Œí”„ë¡œì íŠ¸ ì†Œê°œ 
ì˜¨ë¼ì¸ ì‡¼í•‘ëª° ì‚¬ì´íŠ¸ë¥¼ ëª¨í‹°ë¸Œë¡œ ë§Œë“  ì‡¼í•‘ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. 
fastest-shopì€ ë“œë¡œìš°(Draw), ë˜í”Œ(Raffle), ì˜¤í”ˆëŸ°(Open-Run)ê³¼ ê°™ì€ ì´ì»¤ë¨¸ìŠ¤ ì„ ì°©ìˆœ êµ¬ë§¤ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.  
ë˜í•œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì³ë¥¼ í™œìš©í•´ ìœ ì—°í•œ í™•ì¥ê³¼ ìœ ì§€ë³´ìˆ˜ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
## ğŸš§ ì•„í‚¤í…ì³
![ìŠ¤í¬ë¦°ìƒ· 2024-09-09 121743](https://github.com/user-attachments/assets/f71f320a-fb99-4ea8-a828-65f56c4be67f)
## ğŸ§‘â€ğŸ’» ì‚¬ìš©ê¸°ìˆ 
- Language
<div align=center> 
  <img src="https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white"> 
</div>
- Framework & Library
<div align=center> 
<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Spring Boot</title><path d="m23.693 10.7058-4.73-8.1844c-.4094-.7106-1.4166-1.2942-2.2402-1.2942H7.2725c-.819 0-1.8308.5836-2.2402 1.2942L.307 10.7058c-.4095.7106-.4095 1.873 0 2.5837l4.7252 8.189c.4094.7107 1.4166 1.2943 2.2402 1.2943h9.455c.819 0 1.826-.5836 2.2402-1.2942l4.7252-8.189c.4095-.7107.4095-1.8732 0-2.5838zM10.9763 5.7547c0-.5365.4377-.9742.9742-.9742s.9742.4377.9742.9742v5.8217c0 .5366-.4377.9742-.9742.9742s-.9742-.4376-.9742-.9742zm.9742 12.4294c-3.6427 0-6.6077-2.965-6.6077-6.6077.0047-2.0896.993-4.0521 2.6685-5.304a.8657.8657 0 0 1 1.2142.1788.8657.8657 0 0 1-.1788 1.2143c-2.1602 1.6048-2.612 4.6592-1.0072 6.8194 1.6049 2.1603 4.6593 2.612 6.8195 1.0072 1.2378-.9177 1.9673-2.372 1.9673-3.9157a4.8972 4.8972 0 0 0-1.9861-3.925c-.386-.2824-.466-.8284-.1836-1.2143.2824-.386.8283-.466 1.2143-.1835 1.6895 1.2471 2.6826 3.2238 2.6873 5.3228 0 3.6474-2.965 6.6077-6.6077 6.6077z"/></svg>
</div>
  + Spring boot
  + Spring Security
  + Spring Cloud
  + Spring Data Jpa
- Database & Caching
  + MySQL
  + Redis
- Infra
  + Docker
## ğŸ“ ERD
![ì„ ì°©ìˆœ êµ¬ë§¤-ERD ìˆ˜ì • (1)](https://github.com/user-attachments/assets/2148d763-5aef-4e52-8ac9-5c53d4ed2110)
## ğŸ”¥ ì£¼ìš” ê¸°ëŠ¥
- Spring Securityë¥¼ í†µí•œ íšŒì› ì¸ì¦
- API Gatewayë¥¼ í†µí•œ ë¼ìš°íŒ… ë° íšŒì› ì¸ê°€ ê¸°ëŠ¥ êµ¬í˜„
- Netfilx Eureka server-clientë¥¼ í†µí•œ MSA ê¸°ë°˜ ì„œë¹„ìŠ¤ êµ¬í˜„
- Redis Cachingì„ í†µí•œ ì œí’ˆ ì •ë³´ ì¡°íšŒ
- MySQL Pessimistic Lockì„ í†µí•œ ì„ ì°©ìˆœ êµ¬ë§¤ ë™ì‹œì„± ì²˜ë¦¬
- @PreUpdate, @PrePersistë¥¼ í†µí•œ ìƒí’ˆ ìƒíƒœ ë° ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬
## ğŸ’£ Trouble shooting | development
- êµ¬ë§¤ í”„ë¡œì„¸ìŠ¤ ì„ ì°©ìˆœ ì£¼ë¬¸ ì²˜ë¦¬
    + Pessimistic Lock, Redisì˜ RLockì„ í†µí•œ ë™ì‹œì„± ì²˜ë¦¬ë¥¼ ìœ„í•œ ì¬ê³  ë°ì´í„° ë°˜ì˜
    + ê²°ì œ ì‹¤íŒ¨ ë° ë™ì‹œ ìš”ì²­ ì‹œ, ë°ì´í„°ë² ì´ìŠ¤ ì •í•©ì„± ìœ ì§€
    + 10000ëª…ì˜ ê°€ìƒ ì‚¬ìš©ìë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¬ê³ ê°€ 10ê°œì¸ ì œí’ˆì— í•œí•´ì„œ ë¶€í•˜í…ŒìŠ¤íŠ¸ ì‹¤ì‹œ
      * ![ìŠ¤í¬ë¦°ìƒ· 2024-09-03 141154](https://github.com/user-attachments/assets/650a55ee-f867-442a-8a13-c9adc4d37aaa)
- Redis ìƒí’ˆ ì •ë³´ ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒ
  + ìƒí’ˆ ì•„ì´ë”” ë²ˆí˜¸(Key)ë¥¼ í†µí•œ ìƒí’ˆ ì •ë³´ ìºì‹±
    * ![ë ˆë””ìŠ¤_key_value ë“±ë¡](https://github.com/user-attachments/assets/d5a2bfd6-eef5-4f05-980f-b85024d04cc8)
  + 10000ëª…ì˜ ë™ì‹œ ì ‘ê·¼ ì‹¤ì‹œ
    * ![ì¬ê³ ì¡°íšŒ_ë ˆë””ìŠ¤_ìºì‹±ë¹„êµ](https://github.com/user-attachments/assets/40da41b3-71a1-4d9a-9db9-f44a326af4e2)
    *  ìºì‹± ì „(DB select queryë¥¼ í†µí•œ ì§ì ‘ ì ‘ê·¼)ê³¼ ë¹„êµí•˜ì—¬ ì¸ë©”ëª¨ë¦¬ DB Redisë¥¼ ì‚¬ìš©í•œ í›„ ì†ë„ê°€ ì•½ 99% ì •ë„ ì¦ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.  

