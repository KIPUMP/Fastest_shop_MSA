# ğŸ›’ E-commerce í”„ë¡œì íŠ¸ : fastest-shop
## ğŸ“Œí”„ë¡œì íŠ¸ ì†Œê°œ 
ì˜¨ë¼ì¸ ì‡¼í•‘ëª° ì‚¬ì´íŠ¸ë¥¼ ëª¨í‹°ë¸Œë¡œ ë§Œë“  ì‡¼í•‘ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. 
fastest-shopì€ ë“œë¡œìš°(Draw), ë˜í”Œ(Raffle), ì˜¤í”ˆëŸ°(Open-Run)ê³¼ ê°™ì€ ì´ì»¤ë¨¸ìŠ¤ ì„ ì°©ìˆœ êµ¬ë§¤ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.  
ë˜í•œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì³ë¥¼ í™œìš©í•´ ìœ ì—°í•œ í™•ì¥ê³¼ ìœ ì§€ë³´ìˆ˜ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
## ğŸš§ ì•„í‚¤í…ì³
![ìŠ¤í¬ë¦°ìƒ· 2024-09-09 121743](https://github.com/user-attachments/assets/f71f320a-fb99-4ea8-a828-65f56c4be67f)
## ğŸ§‘â€ğŸ’» ì‚¬ìš©ê¸°ìˆ 
![ìŠ¤í¬ë¦°ìƒ· 2024-09-10 075444](https://github.com/user-attachments/assets/4d01436c-8ef6-4c05-a955-d2a50b0df7e1)
## ğŸ“ ERD
![ì„ ì°©ìˆœ êµ¬ë§¤-ERD ìˆ˜ì • (1)](https://github.com/user-attachments/assets/2148d763-5aef-4e52-8ac9-5c53d4ed2110)
## ğŸ”¥ ì£¼ìš” ê¸°ëŠ¥
- Spring Securityë¥¼ í†µí•œ íšŒì› ì¸ì¦
- API Gatewayë¥¼ í†µí•œ ë¼ìš°íŒ… ë° íšŒì› ì¸ê°€ ê¸°ëŠ¥ êµ¬í˜„
- Netfilx Eureka server-clientë¥¼ í†µí•œ MSA ê¸°ë°˜ ì„œë¹„ìŠ¤ êµ¬í˜„
- Redis Cachingì„ í†µí•œ ì œí’ˆ ì •ë³´ ì¡°íšŒ
- MySQL Pessimistic Lockì„ í†µí•œ ì„ ì°©ìˆœ êµ¬ë§¤ ë™ì‹œì„± ì²˜ë¦¬
- @PreUpdate, @PrePersistë¥¼ í†µí•œ ìƒí’ˆ ìƒíƒœ ë° ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬
## ğŸ’£ Trouble shooting | development
- êµ¬ë§¤ í”„ë¡œì„¸ìŠ¤ ì„ ì°©ìˆœ ì£¼ë¬¸ ì²˜ë¦¬
    + Pessimistic Lock, Redisì˜ RLockì„ í†µí•œ ë™ì‹œì„± ì²˜ë¦¬ë¥¼ ìœ„í•œ ì¬ê³  ë°ì´í„° ë°˜ì˜
    + ê²°ì œ ì‹¤íŒ¨ ë° ë™ì‹œ ìš”ì²­ ì‹œ, ë°ì´í„°ë² ì´ìŠ¤ ì •í•©ì„± ìœ ì§€
    + 10000ëª…ì˜ ê°€ìƒ ì‚¬ìš©ìë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¬ê³ ê°€ 10ê°œì¸ ì œí’ˆì— í•œí•´ì„œ ë¶€í•˜í…ŒìŠ¤íŠ¸ ì‹¤ì‹œ
      * ![ìŠ¤í¬ë¦°ìƒ· 2024-09-03 141154](https://github.com/user-attachments/assets/650a55ee-f867-442a-8a13-c9adc4d37aaa)
- Redis ìƒí’ˆ ì •ë³´ ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒ
  + ìƒí’ˆ ì•„ì´ë”” ë²ˆí˜¸(Key)ë¥¼ í†µí•œ ìƒí’ˆ ì •ë³´ ìºì‹±
    * ![ë ˆë””ìŠ¤_key_value ë“±ë¡](https://github.com/user-attachments/assets/d5a2bfd6-eef5-4f05-980f-b85024d04cc8)
  + 10000ëª…ì˜ ë™ì‹œ ì ‘ê·¼ ì‹¤ì‹œ
    * ![ì¬ê³ ì¡°íšŒ_ë ˆë””ìŠ¤_ìºì‹±ë¹„êµ](https://github.com/user-attachments/assets/40da41b3-71a1-4d9a-9db9-f44a326af4e2)
    *  ìºì‹± ì „(DB select queryë¥¼ í†µí•œ ì§ì ‘ ì ‘ê·¼)ê³¼ ë¹„êµí•˜ì—¬ ì¸ë©”ëª¨ë¦¬ DB Redisë¥¼ ì‚¬ìš©í•œ í›„ ì†ë„ê°€ ì•½ 99% ì •ë„ ì¦ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.  

